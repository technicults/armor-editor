<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArmorEditor - Enterprise Features Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 3em;
            margin: 0;
        }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .feature-card {
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            border-left: 5px solid #667eea;
            transition: transform 0.2s;
        }
        .feature-card:hover {
            transform: translateY(-2px);
        }
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-align: center;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        .btn.secondary {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
        }
        #editor {
            min-height: 500px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            font-size: 14px;
            color: #666;
        }
        .badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        .badge.success { background: #d4edda; color: #155724; }
        .badge.warning { background: #fff3cd; color: #856404; }
        .badge.info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ›¡ï¸ ArmorEditor Enterprise</h1>
            <p>The most advanced rich text editor with enterprise-grade features</p>
            <div class="status-bar">
                <span>Version: 1.0.12 Enterprise</span>
                <span>Status: <span class="badge success">All Systems Active</span></span>
                <span>User: <span class="badge info">Enterprise Admin</span></span>
            </div>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <h3>ğŸ¯ Command Palette</h3>
                <p><kbd>Ctrl+Shift+P</kbd> - VS Code-style command interface with fuzzy search</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ“Š Analytics Dashboard</h3>
                <p>Real-time usage analytics, performance metrics, and user insights</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ” Permissions System</h3>
                <p>Role-based access control with granular permissions</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ“š Version Control</h3>
                <p>Git-like versioning with branching, tagging, and comparison</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ”„ Workflow Engine</h3>
                <p>Automated approval workflows with multi-stage processes</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ“„ Advanced Export</h3>
                <p>Export to PDF, Markdown, HTML with custom styling</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ¤– AI Templates</h3>
                <p>Type <kbd>/</kbd> for AI-powered content templates</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ“± Mobile Enhanced</h3>
                <p>Advanced touch gestures and mobile-optimized interface</p>
            </div>
        </div>

        <div class="controls">
            <button class="btn" onclick="showCommandPalette()">ğŸ¯ Command Palette</button>
            <button class="btn" onclick="showAnalytics()">ğŸ“Š Analytics</button>
            <button class="btn" onclick="showVersions()">ğŸ“š Versions</button>
            <button class="btn" onclick="showWorkflows()">ğŸ”„ Workflows</button>
            <button class="btn secondary" onclick="exportToPDF()">ğŸ“„ Export PDF</button>
            <button class="btn secondary" onclick="exportToMarkdown()">ğŸ“ Export MD</button>
            <button class="btn secondary" onclick="switchTheme('dark')">ğŸŒ™ Dark Theme</button>
            <button class="btn secondary" onclick="createVersion()">ğŸ’¾ Save Version</button>
        </div>

        <div id="editor"></div>

        <div class="status-bar">
            <span id="word-count">Words: 0</span>
            <span id="user-status">Ready</span>
            <span id="last-saved">Auto-saved</span>
        </div>
    </div>

    <script type="module">
        import { ArmorEditor } from './dist/index.esm.js';

        // Initialize enterprise editor with ALL features
        const editor = new ArmorEditor({
            container: '#editor',
            height: '600px',
            theme: 'light',
            shortcuts: true,
            performance: {
                monitoring: true,
                virtualScrolling: true,
                lazyLoading: true
            },
            ai: {
                enabled: true,
                provider: 'openai',
                apiKey: 'demo-key'
            },
            mobile: {
                enabled: true,
                collapsibleToolbar: true,
                touchGestures: true
            },
            collaboration: {
                channelId: 'enterprise-demo',
                userId: 'admin-001',
                userName: 'Enterprise Admin'
            },
            placeholder: 'Welcome to ArmorEditor Enterprise! Try these features:\nâ€¢ Press Ctrl+Shift+P for commands\nâ€¢ Type / for AI templates\nâ€¢ All enterprise features are active',
            onChange: (content) => {
                updateWordCount(content);
                updateStatus('Editing...');
            },
            onReady: () => {
                console.log('ğŸš€ ArmorEditor Enterprise loaded with ALL features!');
                initializeEnterpriseFeatures();
                loadSampleContent();
            }
        });

        // Make editor globally available
        window.editor = editor;

        function initializeEnterpriseFeatures() {
            // Set up enterprise user
            editor.setCurrentUser({
                id: 'admin-001',
                name: 'Enterprise Admin',
                email: 'admin@company.com',
                role: {
                    id: 'owner',
                    name: 'Owner',
                    permissions: [
                        { action: 'read', resource: 'document' },
                        { action: 'write', resource: 'document' },
                        { action: 'admin', resource: 'settings' }
                    ]
                }
            });

            // Register enterprise commands
            editor.registerCommand({
                id: 'enterprise-export',
                title: 'Enterprise Export Suite',
                category: 'Export',
                action: () => showExportOptions()
            });

            editor.registerCommand({
                id: 'start-approval-workflow',
                title: 'Start Approval Workflow',
                category: 'Workflow',
                action: () => startApprovalWorkflow()
            });

            // Add enterprise templates
            editor.addContentTemplate({
                id: 'enterprise-report',
                name: 'Enterprise Report',
                category: 'Business',
                content: `# {{report_title}}

## Executive Summary
{{executive_summary}}

## Key Findings
{{key_findings}}

## Recommendations
{{recommendations}}

## Financial Impact
{{financial_impact}}

---
*Prepared by: {{author}}*
*Date: {{date}}*
*Classification: {{classification}}*`,
                variables: ['report_title', 'executive_summary', 'key_findings', 'recommendations', 'financial_impact', 'author', 'date', 'classification']
            });

            updateStatus('Enterprise features initialized');
        }

        function loadSampleContent() {
            editor.setContent(`
                <h1>ğŸ¢ Enterprise Document Management System</h1>
                
                <h2>Welcome to ArmorEditor Enterprise</h2>
                <p>This demonstration showcases all enterprise-grade features including:</p>
                
                <ul>
                    <li><strong>Advanced Analytics:</strong> Real-time usage tracking and performance metrics</li>
                    <li><strong>Version Control:</strong> Git-like versioning with branching and comparison</li>
                    <li><strong>Workflow Engine:</strong> Automated approval processes</li>
                    <li><strong>Permissions System:</strong> Role-based access control</li>
                    <li><strong>Export Suite:</strong> Professional document export options</li>
                </ul>

                <h2>ğŸ¯ Try These Features</h2>
                <blockquote>
                    <p><strong>Command Palette:</strong> Press <code>Ctrl+Shift+P</code> to access all commands</p>
                    <p><strong>AI Templates:</strong> Type <code>/</code> to see content templates</p>
                    <p><strong>Version Control:</strong> Click "Save Version" to create checkpoints</p>
                    <p><strong>Analytics:</strong> View real-time usage data and metrics</p>
                </blockquote>

                <h2>ğŸ“Š Enterprise Metrics</h2>
                <p>This editor tracks comprehensive analytics including user engagement, feature usage, performance metrics, and collaboration patterns.</p>

                <p><em>Start typing to see the enterprise features in action!</em></p>
            `);
        }

        function updateWordCount(content) {
            const text = content.replace(/<[^>]*>/g, '');
            const words = text.trim().split(/\s+/).filter(word => word.length > 0).length;
            document.getElementById('word-count').textContent = `Words: ${words}`;
        }

        function updateStatus(status) {
            document.getElementById('user-status').textContent = status;
            setTimeout(() => {
                document.getElementById('user-status').textContent = 'Ready';
            }, 2000);
        }

        // Global functions for buttons
        window.showCommandPalette = () => {
            editor.showCommandPalette();
        };

        window.showAnalytics = () => {
            editor.showAnalyticsDashboard();
        };

        window.showVersions = () => {
            const versions = editor.getVersionHistory();
            alert(`Version History: ${versions.length} versions found. Check console for details.`);
            console.log('Version History:', versions);
        };

        window.showWorkflows = () => {
            editor.showWorkflowDashboard();
        };

        window.exportToPDF = async () => {
            updateStatus('Exporting to PDF...');
            try {
                await editor.exportToPDF({
                    format: 'pdf',
                    styling: true,
                    metadata: {
                        title: 'Enterprise Document',
                        author: 'ArmorEditor Enterprise'
                    }
                });
                updateStatus('PDF export completed');
            } catch (error) {
                updateStatus('PDF export failed');
            }
        };

        window.exportToMarkdown = () => {
            const markdown = editor.exportToMarkdown();
            const blob = new Blob([markdown], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'document.md';
            a.click();
            updateStatus('Markdown exported');
        };

        window.switchTheme = (theme) => {
            editor.setTheme(theme);
            updateStatus(`Switched to ${theme} theme`);
        };

        window.createVersion = () => {
            const version = editor.createVersion('Manual save', {
                id: 'admin-001',
                name: 'Enterprise Admin',
                email: 'admin@company.com'
            });
            updateStatus(`Version ${version?.version} created`);
        };

        function showExportOptions() {
            alert('Enterprise Export Suite:\nâ€¢ PDF with custom styling\nâ€¢ Markdown with metadata\nâ€¢ HTML with embedded assets\nâ€¢ Word document format\nâ€¢ Excel spreadsheet export');
        }

        function startApprovalWorkflow() {
            const workflowId = editor.startWorkflow('document-review', 'enterprise-demo', 'admin-001');
            updateStatus(`Started approval workflow: ${workflowId}`);
        }

        // Auto-update last saved indicator
        setInterval(() => {
            document.getElementById('last-saved').textContent = 'Auto-saved ' + new Date().toLocaleTimeString();
        }, 30000);

        console.log('ğŸ¢ ArmorEditor Enterprise Demo Ready!');
        console.log('Available Enterprise Features:', {
            commandPalette: 'Ctrl+Shift+P',
            analytics: 'Real-time tracking',
            versions: 'Git-like versioning',
            workflows: 'Approval processes',
            permissions: 'Role-based access',
            export: 'Multiple formats',
            ai: 'Content templates',
            mobile: 'Touch optimized'
        });
    </script>
</body>
</html>
